# 3. 設定ファイル・投資ログ管理 要件定義

## 3.1. 目的
このドキュメントは、ツールの設定ファイルと、計算結果を記録するログファイルの仕様を定義する。
利用者の設定管理を容易にし、投資活動の記録・分析を可能にすることを目的とする。

## 3.2. 設定ファイル

### 3.2.1. 主要機能
- 複数の投資対象銘柄や、それぞれに紐づくパラメータを一元管理する機能。
- CLI実行時に設定ファイルを読み込み、計算のインプットとして利用する機能。

### 3.2.2. ファイル形式（案）
- **フォーマット**: YAML (`.yaml`) または JSON (`.json`)
- **ファイル名**: `config.yaml` (デフォルト)

### 3.2.3. 構造（案）
```yaml
# config.yaml

# 全体に適用するデフォルト設定
default_settings:
  base_amount: 10000
  asymmetric_coefficient: 2.0

# 銘柄ごとの設定
stocks:
  - ticker: "AAPL" # 米国株
    reference_price: 150.0
  - ticker: "7203.T" # 日本株
    reference_price: 2000.0
  - ticker: "VTSAX" # 投資信託
    base_amount: 20000 # 個別設定で上書き
    reference_price: 100.0
```

## 3.3. 投資ログ

### 3.3.1. 主要機能
- CLIで計算を実行した際に、結果をファイルに追記する機能。

### 3.3.2. ファイル形式（案）
- **フォーマット**: CSV (`.csv`)
- **ファイル名**: `investment_log.csv`

### 3.3.3. 構造（案）
```csv
date,ticker,base_amount,reference_price,calculated_investment
2025-08-17,AAPL,10000,150.0,12500
2025-08-17,GOOGL,5000,2800.0,6000
```

## 3.4. 考慮事項
- 設定ファイルのバリデーション（不正な形式や値のチェック）。
- ログファイルのパスを指定できるオプション。
